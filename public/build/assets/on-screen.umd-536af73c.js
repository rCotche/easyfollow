var p=(c,r)=>()=>(r||c((r={exports:{}}).exports,r),r.exports);var E=p((d,u)=>{(function(c,r){typeof d=="object"&&typeof u<"u"?u.exports=r():typeof define=="function"&&define.amd?define(r):c.OnScreen=r()})(globalThis,function(){function c(){var t=this.options.container;if(t instanceof HTMLElement){var e=window.getComputedStyle(t);e.position==="static"&&(t.style.position="relative")}t.addEventListener("scroll",this._scroll,{passive:!0}),window.addEventListener("resize",this._scroll,{passive:!0}),this._scroll(),this.attached=!0}function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tolerance:0};if(!t)throw new Error("You should specify the element you want to test");typeof t=="string"&&(t=document.querySelector(t));var n=t.getBoundingClientRect();return n.bottom-e.tolerance>0&&n.right-e.tolerance>0&&n.left+e.tolerance<(window.innerWidth||document.documentElement.clientWidth)&&n.top+e.tolerance<(window.innerHeight||document.documentElement.clientHeight)}function f(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tolerance:0,container:""};if(!t)throw new Error("You should specify the element you want to test");if(typeof t=="string"&&(t=document.querySelector(t)),typeof e=="string"&&(e={tolerance:0,container:document.querySelector(e)}),typeof e.container=="string"&&(e.container=document.querySelector(e.container)),e instanceof HTMLElement&&(e={tolerance:0,container:e}),!e.container)throw new Error("You should specify a container element");var n=e.container.getBoundingClientRect();return t.offsetTop+t.clientHeight-e.tolerance>e.container.scrollTop&&t.offsetLeft+t.clientWidth-e.tolerance>e.container.scrollLeft&&t.offsetLeft+e.tolerance<n.width+e.container.scrollLeft&&t.offsetTop+e.tolerance<n.height+e.container.scrollTop}function h(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tolerance:0},n=Object.keys(t),s=void 0;n.length&&(s=e.container===window?r:f,n.forEach(function(i){t[i].nodes.forEach(function(o){if(s(o.node,e)?(o.wasVisible=o.isVisible,o.isVisible=!0):(o.wasVisible=o.isVisible,o.isVisible=!1),o.isVisible===!0&&o.wasVisible===!1){if(!t[i].enter)return;Object.keys(t[i].enter).forEach(function(a){typeof t[i].enter[a]=="function"&&t[i].enter[a](o.node,"enter")})}if(o.isVisible===!1&&o.wasVisible===!0){if(!t[i].leave)return;Object.keys(t[i].leave).forEach(function(a){typeof t[i].leave[a]=="function"&&t[i].leave[a](o.node,"leave")})}})}))}function m(){var t=this,e=void 0;return function(){clearTimeout(e),e=setTimeout(function(){h(t.trackedElements,t.options)},t.options.debounce)}}function b(){this.options.container.removeEventListener("scroll",this._scroll),window.removeEventListener("resize",this._scroll),this.attached=!1}function v(t,e,n){var s=Object.keys(this.trackedElements[e].enter||{}),i=Object.keys(this.trackedElements[e].leave||{});if({}.hasOwnProperty.call(this.trackedElements,e))if(n){if(this.trackedElements[e][t]){var o=typeof n=="function"?n.name:n;delete this.trackedElements[e][t][o]}}else delete this.trackedElements[e][t];s.length||i.length||delete this.trackedElements[e]}function g(t,e,n){var s=["enter","leave"];if(!t)throw new Error("No event given. Choose either enter or leave");if(!e)throw new Error("No selector to track");if(s.indexOf(t)<0)throw new Error(t+" event is not supported");({}).hasOwnProperty.call(this.trackedElements,e)||(this.trackedElements[e]={}),this.trackedElements[e].nodes=[];for(var i=0,o=document.querySelectorAll(e);i<o.length;i++){var a={isVisible:!1,wasVisible:!1,node:o[i]};this.trackedElements[e].nodes.push(a)}typeof n=="function"&&(this.trackedElements[e][t]||(this.trackedElements[e][t]={}),this.trackedElements[e][t][n.name||"anonymous"]=n)}function w(t,e){var n=window.MutationObserver||window.WebKitMutationObserver;if(n){var s=new n(e);s.observe(t,{childList:!0,subtree:!0})}else t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1)}function l(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{tolerance:0,debounce:100,container:window};this.options={},this.trackedElements={},Object.defineProperties(this.options,{container:{configurable:!1,enumerable:!1,get:function(){var n=void 0;return typeof e.container=="string"?n=document.querySelector(e.container):e.container instanceof HTMLElement&&(n=e.container),n||window},set:function(n){e.container=n}},debounce:{get:function(){return parseInt(e.debounce,10)||100},set:function(n){e.debounce=n}},tolerance:{get:function(){return parseInt(e.tolerance,10)||0},set:function(n){e.tolerance=n}}}),Object.defineProperty(this,"_scroll",{enumerable:!1,configurable:!1,writable:!1,value:this._debouncedScroll.call(this)}),w(document.querySelector("body"),function(){Object.keys(t.trackedElements).forEach(function(n){t.on("enter",n),t.on("leave",n)})}),this.attach()}return Object.defineProperties(l.prototype,{_debouncedScroll:{configurable:!1,writable:!1,enumerable:!1,value:m},attach:{configurable:!1,writable:!1,enumerable:!1,value:c},destroy:{configurable:!1,writable:!1,enumerable:!1,value:b},off:{configurable:!1,writable:!1,enumerable:!1,value:v},on:{configurable:!1,writable:!1,enumerable:!1,value:g}}),l.check=r,l})});export default E();
